---
# APT cache TTL in seconds.
apt_cache_valid_time: 3600

# List of packages to install.
podman_packages:
  - "podman"
  - "{{ 'catatonit' if ansible_facts.os_family == 'Debian' else '' }}"

# Podman config variables
podman_storage_driver:
podman_runtime_directory:

# Podman can work with docker registries so it can stay this way
# URL of private registry
podman_registry:
podman_registry_insecure: false

# Podman registry mirror
podman_registry_mirror:

# Path to a CA file for registry
podman_registry_ca:

# Folders in which podman stores any kind of data
podman_paths:
  - /var/run/podman/podman.sock
  - /etc/containers
  - /var/lib/containers

# Action taken on the packages
package_action: "install"

run_default_subdirectories:
  - '/run/netns'
  - '/run/lock/nova'
  - "/run/libvirt"
  - "/run/nova"
  - "/run/openvswitch"

# Podman containers config
podman_custom_config: {}

# NOTE(chembervint): This option disables by default logs about periodic
# healthchecks for each container into the system journal. Option could be
# enabled for debug reasons
podman_healthcheck_events: false
# NOTE(chembervint): Set maximum container log size to 50M, similar to
# docker_log_max_size
podman_log_max_size: 52428800

podman_engine_config:
  engine:
    events_logger: "file"
    healthcheck_events: "{{ podman_healthcheck_events }}"

podman_containers_config:
  containers:
    log_size_max: "{{ podman_log_max_size }}"
    log_driver: "k8s-file"
